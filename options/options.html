<!DOCTYPE html>
<!--
  Ankiå•è¯åŠ©æ‰‹ - è®¾ç½®é¡µé¢ (Options Page)
  åŠŸèƒ½è¯´æ˜ï¼š
  - é…ç½®AIæœåŠ¡æä¾›å•†ï¼ˆGoogle Geminiã€OpenAI GPTã€Anthropic Claudeï¼‰
  - è‡ªå®šä¹‰Promptæ¨¡æ¿å’Œå­—æ®µé…ç½®
  - è®¾ç½®Ankiè¿æ¥å’Œå¡ç‰‡æ¨¡æ¿
  - ç³»ç»Ÿè®¾ç½®ï¼ˆè¯­è¨€ã€é…ç½®å¯¼å…¥å¯¼å‡ºï¼‰
  - ç•Œé¢æ ·å¼è‡ªå®šä¹‰ï¼ˆå­—ä½“å¤§å°ã€å¯¹é½ã€è¡Œé«˜ï¼‰

  æŠ€æœ¯ç‰¹ç‚¹ï¼š
  - å¤šæ ‡ç­¾é¡µç•Œé¢è®¾è®¡ï¼Œä¾¿äºåŠŸèƒ½åˆ†ç±»ç®¡ç†
  - å“åº”å¼å¸ƒå±€ï¼Œé€‚é…ä¸åŒå±å¹•å°ºå¯¸
  - CSSåŠ¨ç”»æ•ˆæœæå‡ç”¨æˆ·ä½“éªŒ
  - è¡¨å•éªŒè¯å’Œå®æ—¶åé¦ˆ
  - é…ç½®æ•°æ®æŒä¹…åŒ–å­˜å‚¨
-->
<html lang="zh-CN">
  <!-- è®¾ç½®é¡µé¢è¯­è¨€ä¸ºç®€ä½“ä¸­æ–‡ -->
  <head>
    <meta charset="UTF-8" />
    <!-- UTF-8ç¼–ç æ”¯æŒä¸­æ–‡æ˜¾ç¤º -->
    <title>è®¾ç½®</title>
    <!-- Chromeæ‰©å±•è®¾ç½®é¡µé¢æ ‡é¢˜ -->
    <!-- Tailwind CSSæ¡†æ¶ - æä¾›ä¸°å¯Œçš„å®ç”¨CSSç±» -->
    <link rel="stylesheet" href="../styles/tailwind.min.css" />
    <!-- è‡ªå®šä¹‰CSSæ ·å¼ - æ‰©å±•å’Œè¦†ç›–é»˜è®¤æ ·å¼ -->
    <link rel="stylesheet" href="../styles/custom-classes.css" />
    <!-- è§†å£è®¾ç½® - æ”¯æŒå“åº”å¼å¸ƒå±€åœ¨ç§»åŠ¨è®¾å¤‡ä¸Š -->
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <!--
      å†…åµŒCSSæ ·å¼å®šä¹‰
      ä¸»è¦ç”¨äºæ ‡ç­¾é¡µåˆ‡æ¢åŠ¨ç”»å’Œäº¤äº’æ•ˆæœ
    -->
    <style>
      /* æ ‡ç­¾å†…å®¹åˆ‡æ¢æ ·å¼å®šä¹‰ */
      .tab-content {
        display: none; /* é»˜è®¤éšè—æ‰€æœ‰æ ‡ç­¾å†…å®¹ */
        animation: fadeIn 0.3s ease-in-out; /* æ˜¾ç¤ºæ—¶çš„æ¸å…¥åŠ¨ç”»æ•ˆæœ */
      }
      .tab-content.active {
        display: block; /* æ¿€æ´»çŠ¶æ€æ—¶æ˜¾ç¤ºå†…å®¹ */
      }

      /* æ¸å…¥åŠ¨ç”»å®šä¹‰ - æä¾›å¹³æ»‘çš„å†…å®¹åˆ‡æ¢æ•ˆæœ */
      @keyframes fadeIn {
        from {
          opacity: 0; /* ä»å®Œå…¨é€æ˜å¼€å§‹ */
          transform: translateY(10px); /* ä»å‘ä¸‹10pxä½ç½®å¼€å§‹ */
        }
        to {
          opacity: 1; /* åˆ°å®Œå…¨ä¸é€æ˜ */
          transform: translateY(0); /* åˆ°åŸå§‹ä½ç½® */
        }
      }

      /* æ ‡ç­¾æŒ‰é’®æ ·å¼ä¼˜åŒ– */
      .settings-tab-btn {
        position: relative; /* ç›¸å¯¹å®šä½ï¼Œç”¨äºä¼ªå…ƒç´ å®šä½ */
        transition: all 0.2s ease-in-out; /* æ‰€æœ‰æ ·å¼å˜åŒ–çš„è¿‡æ¸¡æ•ˆæœ */
      }

      /* æŒ‰é’®è·å¾—ç„¦ç‚¹æ—¶çš„å¯è®¿é—®æ€§æ ·å¼ */
      .settings-tab-btn:focus {
        outline: none; /* ç§»é™¤æµè§ˆå™¨é»˜è®¤çš„ç„¦ç‚¹è½®å»“ */
        box-shadow: 0 0 0 2px rgba(71, 85, 105, 0.2); /* è‡ªå®šä¹‰ç„¦ç‚¹é˜´å½±æ•ˆæœ */
      }

      /* æ¿€æ´»æ ‡ç­¾æŒ‰é’®çš„æ ·å¼ */
      .settings-tab-btn.active {
        background-color: rgb(248, 250, 252); /* æµ…ç°è‰²èƒŒæ™¯ */
        color: rgb(71, 85, 105); /* æ·±ç°è‰²æ–‡å­— */
        border-bottom-color: rgb(71, 85, 105); /* åº•éƒ¨è¾¹æ¡†é«˜äº® */
      }
    </style>
  </head>
  <body>
    <!--
      é¡µé¢ä¸»å®¹å™¨
      - min-h-screen: æœ€å°é«˜åº¦ä¸ºå±å¹•é«˜åº¦ï¼Œç¡®ä¿å†…å®¹å……æ»¡å±å¹•
      - bg-gray-50: æµ…ç°è‰²èƒŒæ™¯ï¼Œæä¾›æŸ”å’Œçš„è§†è§‰æ•ˆæœ
    -->
    <div class="min-h-screen bg-gray-50">
      <!--
        å†…å®¹åŒºåŸŸå®¹å™¨
        - container mx-auto: å±…ä¸­å¯¹é½çš„å“åº”å¼å®¹å™¨
        - px-4 py-8: æ°´å¹³å’Œå‚ç›´å†…è¾¹è·
        - max-w-2xl: é™åˆ¶æœ€å¤§å®½åº¦ä¸º672pxï¼Œä¿è¯é˜…è¯»ä½“éªŒ
      -->
      <div class="container mx-auto px-4 py-8 max-w-2xl">
        <!--
          ä¸»å†…å®¹å¡ç‰‡
          - bg-white: ç™½è‰²èƒŒæ™¯ï¼Œä¸é¡µé¢èƒŒæ™¯å½¢æˆå¯¹æ¯”
          - rounded-lg: å¤§åœ†è§’ï¼Œç°ä»£åŒ–è®¾è®¡é£æ ¼
          - shadow-md: ä¸­ç­‰é˜´å½±æ•ˆæœï¼Œå¢åŠ å±‚æ¬¡æ„Ÿ
          - p-6: 24pxå†…è¾¹è·ï¼Œç¡®ä¿å†…å®¹ä¸è¾¹ç•Œæœ‰é€‚å½“é—´è·
        -->
        <div class="bg-white rounded-lg shadow-md p-6">
          <!--
            é¡µé¢ä¸»æ ‡é¢˜
            - text-3xl font-bold: å¤§å·å­—ä½“å’Œç²—ä½“ï¼Œçªå‡ºé¡µé¢ä¸»é¢˜
            - text-gray-900: æ·±ç°è‰²æ–‡å­—ï¼Œé«˜å¯¹æ¯”åº¦
            - mb-8 text-center: åº•éƒ¨å¤–è¾¹è·å’Œå±…ä¸­å¯¹é½
          -->
          <h1 class="text-3xl font-bold text-gray-900 mb-8 text-center">
            è®¾ç½®ä¸­å¿ƒ
          </h1>

          <!--
            æ ‡ç­¾é¡µå¯¼èˆªæ 
            åŒ…å«5ä¸ªä¸»è¦åŠŸèƒ½åŒºåŸŸçš„å¯¼èˆªæŒ‰é’®
            - flex space-x-1: æ°´å¹³å¸ƒå±€ï¼ŒæŒ‰é’®é—´é—´4pxé—´è·
            - mb-6: åº•éƒ¨å¤–è¾¹è·24px
            - border-b border-gray-200: åº•éƒ¨è¾¹æ¡†åˆ†å‰²çº¿
            - role="tablist": å¯è®¿é—®æ€§å±æ€§ï¼Œæ ‡è¯†ä¸ºæ ‡ç­¾åˆ—è¡¨
          -->
          <nav
            class="flex space-x-1 mb-6 border-b border-gray-200"
            role="tablist"
          >
            <!--
              AIé…ç½®æ ‡ç­¾æŒ‰é’® - é»˜è®¤æ¿€æ´»çŠ¶æ€
              åŠŸèƒ½ï¼šé…ç½®Google Geminiã€OpenAI GPTã€Anthropic Claudeä¸‰ç§ AIæœåŠ¡
              - role="tab": å¯è®¿é—®æ€§å±æ€§ï¼Œæ ‡è¯†ä¸ºæ ‡ç­¾
              - aria-selected="true": é»˜è®¤é€‰ä¸­çŠ¶æ€
              - data-tab="ai-config": JavaScriptäº‹ä»¶å¤„ç†æ ‡è¯†ç¬¦
              - activeç±»: æ¿€æ´»çŠ¶æ€æ ·å¼
            -->
            <button
              role="tab"
              aria-selected="true"
              aria-controls="ai-config-panel"
              class="settings-tab-btn flex items-center px-3 py-2 text-xs font-medium text-slate-600 bg-slate-50 border-b-2 border-slate-500 hover:bg-slate-100 transition-colors duration-200 active"
              data-tab="ai-config"
            >
              <!-- AIç”µç¯SVGå›¾æ ‡ - è¡¨ç¤ºAIæ™ºèƒ½åŠŸèƒ½ -->
              <svg
                class="w-3 h-3 mr-1"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"
                ></path>
              </svg>
              AI é…ç½®
            </button>
            <!--
              Prompté…ç½®æ ‡ç­¾æŒ‰é’®
              åŠŸèƒ½ï¼šè‡ªå®šä¹‰AI Promptæ¨¡æ¿å’Œå­—æ®µé…ç½®
              - ç”¨æˆ·å¯ä»¥æ ¹æ®ä¸åŒçš„Ankiæ¨¡æ¿è‡ªå®šä¹‰Prompt
              - æ”¯æŒå­—æ®µæ˜ å°„å’ŒåŠ¨æ€é…ç½®
            -->
            <button
              role="tab"
              aria-selected="false"
              aria-controls="prompt-config-panel"
              class="settings-tab-btn flex items-center px-3 py-2 text-xs font-medium text-gray-500 hover:text-gray-700 hover:bg-gray-50 border-b-2 border-transparent hover:border-gray-300 transition-colors duration-200"
              data-tab="prompt-config"
            >
              <!-- ç¼–è¾‘SVGå›¾æ ‡ - è¡¨ç¤ºPromptç¼–è¾‘åŠŸèƒ½ -->
              <svg
                class="w-3 h-3 mr-1"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"
                ></path>
              </svg>
              Prompt é…ç½®
            </button>
            <!--
              Ankiè¿æ¥æ ‡ç­¾æŒ‰é’®
              åŠŸèƒ½ï¼šAnkiConnecté…ç½®å’Œå¡ç‰‡æ¨¡æ¿ç®¡ç†
              - æµ‹è¯•Ankiæ¡Œé¢ç‰ˆè¿æ¥çŠ¶æ€
              - é€‰æ‹©é»˜è®¤ç‰Œç»„å’Œå¡ç‰‡æ¨¡æ¿
              - æ˜¾ç¤ºå¯ç”¨çš„å­—æ®µä¿¡æ¯
            -->
            <button
              role="tab"
              aria-selected="false"
              aria-controls="anki-config-panel"
              class="settings-tab-btn flex items-center px-3 py-2 text-xs font-medium text-gray-500 hover:text-gray-700 hover:bg-gray-50 border-b-2 border-transparent hover:border-gray-300 transition-colors duration-200"
              data-tab="anki-config"
            >
              <!-- ä¹¦æœ¬SVGå›¾æ ‡ - è¡¨ç¤ºAnkiå­¦ä¹ å¡ç‰‡åŠŸèƒ½ -->
              <svg
                class="w-3 h-3 mr-1"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"
                ></path>
              </svg>
              Anki è¿æ¥
            </button>
            <!--
              ç³»ç»Ÿè®¾ç½®æ ‡ç­¾æŒ‰é’®
              åŠŸèƒ½ï¼šé€šç”¨ç³»ç»Ÿå‚æ•°é…ç½®
              - è¯­è¨€è®¾ç½®ï¼ˆç›®å‰ä»…æ”¯æŒç®€ä½“ä¸­æ–‡ï¼‰
              - é…ç½®æ•°æ®å¯¼å…¥/å¯¼å‡º/é‡ç½®åŠŸèƒ½
              - ç³»ç»Ÿçº§åˆ«çš„è®¾ç½®é€‰é¡¹
            -->
            <button
              role="tab"
              aria-selected="false"
              aria-controls="system-config-panel"
              class="settings-tab-btn flex items-center px-3 py-2 text-xs font-medium text-gray-500 hover:text-gray-700 hover:bg-gray-50 border-b-2 border-transparent hover:border-gray-300 transition-colors duration-200"
              data-tab="system-config"
            >
              <!-- é½¿è½®SVGå›¾æ ‡ - è¡¨ç¤ºç³»ç»Ÿé…ç½®åŠŸèƒ½ -->
              <svg
                class="w-3 h-3 mr-1"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"
                ></path>
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"
                ></path>
              </svg>
              ç³»ç»Ÿè®¾ç½®
            </button>
            <!--
              æ ·å¼è®¾ç½®æ ‡ç­¾æŒ‰é’®
              åŠŸèƒ½ï¼šç•Œé¢æ˜¾ç¤ºæ ·å¼è‡ªå®šä¹‰
              - å­—ä½“å¤§å°è®¾ç½®ï¼ˆ12px-18pxï¼‰
              - æ–‡æœ¬å¯¹é½æ–¹å¼ï¼ˆå·¦å¯¹é½/å±…ä¸­/å³å¯¹é½ï¼‰
              - è¡Œé«˜è®¾ç½®ï¼ˆ1.2-1.6ï¼‰
              - å®æ—¶é¢„è§ˆæ•ˆæœ
            -->
            <button
              role="tab"
              aria-selected="false"
              aria-controls="style-config-panel"
              class="settings-tab-btn flex items-center px-3 py-2 text-xs font-medium text-gray-500 hover:text-gray-700 hover:bg-gray-50 border-b-2 border-transparent hover:border-gray-300 transition-colors duration-200"
              data-tab="style-config"
            >
              <!-- æ¿å¼SVGå›¾æ ‡ - è¡¨ç¤ºæ ·å¼è®¾è®¡åŠŸèƒ½ -->
              <svg
                class="w-3 h-3 mr-1"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
              >
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zM21 5a2 2 0 00-2-2h-4a2 2 0 00-2 2v12a4 4 0 004 4h4a2 2 0 002-2V5z"
                ></path>
              </svg>
              æ ·å¼è®¾ç½®
            </button>
          </nav>

          <!--
            æ ‡ç­¾é¡µå†…å®¹å®¹å™¨
            åŒ…å«æ‰€æœ‰æ ‡ç­¾é¢æ¿çš„å®é™…å†…å®¹
            JavaScripté€šè¿‡åˆ‡æ¢CSSç±»æ¥æ§åˆ¶æ˜¾ç¤º/éšè—çŠ¶æ€
          -->
          <div class="settings-tab-content">
            <!--
              AIé…ç½®é¢æ¿ - é»˜è®¤æ¿€æ´»çŠ¶æ€
              åŠŸèƒ½è¯´æ˜ï¼š
              1. AIæœåŠ¡æä¾›å•†é€‰æ‹©å’Œåˆ‡æ¢
              2. å„æä¾›å•†çš„API Keyé…ç½®
              3. æ¨¡å‹åç§°å’ŒAPIåœ°å€è‡ªå®šä¹‰
              4. è¿æ¥æµ‹è¯•å’ŒçŠ¶æ€æ˜¾ç¤º
              - activeç±»: é»˜è®¤æ˜¾ç¤ºè¯¥é¢æ¿
              - role="tabpanel": å¯è®¿é—®æ€§æ ‡è¯†
            -->
            <div
              id="ai-config"
              class="tab-content active"
              role="tabpanel"
              aria-labelledby="ai-config-tab"
            >
              <div class="space-y-6">
                <!-- å­å…ƒç´ é—´å‚ç›´é—´è·24px -->
                <!--
                  AIæä¾›å•†é€‰æ‹©ä¸‹æ‹‰æ¡†
                  ç”¨æˆ·å¯ä»¥åœ¨Google Geminiã€OpenAI GPTã€Anthropic Claudeä¹‹é—´åˆ‡æ¢
                  JavaScriptç›‘å¬æ­¤ä¸‹æ‹‰æ¡†çš„å˜åŒ–äº‹ä»¶ï¼ŒåŠ¨æ€æ˜¾ç¤º/éšè—å¯¹åº”é…ç½®åŒºåŸŸ
                -->
                <div class="mb-6">
                  <label
                    for="ai-provider"
                    class="block text-sm font-medium text-gray-700 mb-2"
                    >é€‰æ‹© AI æä¾›å•†</label
                  >
                  <select
                    id="ai-provider"
                    class="w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-slate-500 focus:border-slate-500"
                  >
                    <option value="google">Google (Gemini)</option>
                    <option value="openai">OpenAI (GPT)</option>
                    <option value="anthropic">Anthropic (Claude)</option>
                  </select>
                </div>

                <!--
                  Google Geminié…ç½®åŒºåŸŸ
                  åŠŸèƒ½ï¼š
                  - Gemini API Keyè¾“å…¥å’Œæ˜¾ç¤º/éšè—åˆ‡æ¢
                  - æ¨¡å‹åç§°é…ç½®ï¼ˆæ”¯æŒgemini-2.5ç³»åˆ—ï¼‰
                  - APIåœ°å€è‡ªå®šä¹‰ï¼ˆæ”¯æŒä»£ç†æœåŠ¡å™¨ï¼‰
                  - è¿æ¥æµ‹è¯•å’ŒçŠ¶æ€åé¦ˆ
                  - é»˜è®¤æ˜¾ç¤ºï¼Œå…¶ä»–æä¾›å•†é…ç½®é»˜è®¤éšè—
                -->
                <div
                  id="config-google"
                  class="provider-config bg-slate-50 border border-slate-200 rounded-md p-6 mb-6"
                >
                  <!--
                    Google Gemini API Keyé…ç½®åŒºåŸŸ
                    - type="password": å¯†ç å‹è¾“å…¥æ¡†ï¼Œé»˜è®¤éšè—å†…å®¹
                    - toggle-visibility-btn: æ˜¾ç¤º/éšè—åˆ‡æ¢æŒ‰é’®
                    - data-target: JavaScriptäº‹ä»¶å¤„ç†ç›®æ ‡å…ƒç´ æ ‡è¯†
                    - æä¾›å®˜æ–¹API Keyè·å–é“¾æ¥
                  -->
                  <div class="mb-4">
                    <label
                      for="google-api-key"
                      class="block text-sm font-medium text-gray-700 mb-2"
                      >Gemini API Key</label
                    >
                    <div class="flex gap-2">
                      <!-- API Keyè¾“å…¥æ¡†å’Œæ˜¾ç¤ºæŒ‰é’®å¹¶æ’ -->
                      <input
                        type="password"
                        id="google-api-key"
                        placeholder="è¾“å…¥ Gemini API Key"
                        class="flex-1 p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-slate-500"
                      />
                      <!-- API Keyå¯è§æ€§åˆ‡æ¢æŒ‰é’® -->
                      <button
                        type="button"
                        class="toggle-visibility-btn bg-gray-200 hover:bg-gray-300 px-3 py-2 rounded-md transition"
                        data-target="google-api-key"
                      >
                        æ˜¾ç¤º
                      </button>
                    </div>
                    <!-- å¸®åŠ©é“¾æ¥ - å¼•å¯¼ç”¨æˆ·è·å–API Key -->
                    <small class="text-xs text-gray-500 mt-1 block"
                      >è·å– API Keyï¼š<a
                        href="https://makersuite.google.com/app/apikey"
                        target="_blank"
                        class="text-slate-600 hover:underline"
                        >Google AI Studio</a
                      ></small
                    >
                  </div>
                  <!--
                    Google Geminiæ¨¡å‹åç§°é…ç½®
                    æ”¯æŒç”¨æˆ·è‡ªå®šä¹‰ä½¿ç”¨çš„Geminiæ¨¡å‹
                    - å¸¸ç”¨æ¨¡å‹åŒ…æ‹¬ï¼šgemini-2.5-proã€gemini-2.5-flashç­‰
                    - æ”¯æŒæœ€æ–°çš„Gemini 2.5ç³»åˆ—æ¨¡å‹
                  -->
                  <div class="mb-4">
                    <label
                      for="google-model-name"
                      class="block text-sm font-medium text-gray-700 mb-2"
                      >æ¨¡å‹åç§°</label
                    >
                    <input
                      type="text"
                      id="google-model-name"
                      placeholder="ä¾‹å¦‚ï¼šgemini-2.5-flash-lite"
                      class="w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-slate-500"
                    />
                    <!-- æ¨¡å‹æ¨èæç¤º -->
                    <small class="text-xs text-gray-500 mt-1 block"
                      >å¸¸ç”¨æ¨¡å‹ï¼šgemini-2.5-proã€gemini-2.5-flashã€gemini-2.5-flash-lite</small
                    >
                  </div>
                  <!--
                    Google Gemini APIåœ°å€é…ç½®
                    æ”¯æŒè‡ªå®šä¹‰APIåœ°å€ï¼Œä¾¿äºä½¿ç”¨ä»£ç†æœåŠ¡æˆ–ä¸­è½¬æœåŠ¡
                    - é»˜è®¤ä½¿ç”¨Googleå®˜æ–¹APIåœ°å€
                    - æ”¯æŒç¬¬ä¸‰æ–¹ä»£ç†æœåŠ¡ï¼ˆå¦‚å›½å†…ä»£ç†ï¼‰
                  -->
                  <div class="mb-4">
                    <label
                      for="google-api-url"
                      class="block text-sm font-medium text-gray-700 mb-2"
                      >API åœ°å€</label
                    >
                    <input
                      type="text"
                      id="google-api-url"
                      placeholder="ä¾‹å¦‚ï¼šhttps://generativelanguage.googleapis.com/v1beta/models"
                      class="w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-slate-500"
                    />
                    <!-- APIåœ°å€é»˜è®¤å€¼æç¤º -->
                    <small class="text-xs text-gray-500 mt-1 block"
                      >é»˜è®¤ï¼šhttps://generativelanguage.googleapis.com/v1beta/models</small
                    >
                  </div>
                  <!--
                    Google Geminiè¿æ¥æµ‹è¯•åŒºåŸŸ
                    - test-provider-btn: æµ‹è¯•æŒ‰é’®ï¼ŒéªŒè¯API Keyå’Œè¿æ¥æœ‰æ•ˆæ€§
                    - data-provider="google": JavaScriptäº‹ä»¶å¤„ç†æ ‡è¯†ç¬¦
                    - ai-status-google: çŠ¶æ€æ˜¾ç¤ºåŒºåŸŸï¼Œæ˜¾ç¤ºæµ‹è¯•ç»“æœ
                  -->
                  <div class="flex items-center gap-4">
                    <!-- è¿æ¥æµ‹è¯•æŒ‰é’® -->
                    <button
                      type="button"
                      class="test-provider-btn bg-slate-600 hover:bg-slate-700 text-white font-medium py-2 px-4 rounded-md transition"
                      data-provider="google"
                    >
                      æµ‹è¯• Gemini è¿æ¥
                    </button>
                    <!-- çŠ¶æ€ä¿¡æ¯æ˜¾ç¤ºåŒºåŸŸ - JavaScriptåŠ¨æ€æ›´æ–° -->
                    <div
                      id="ai-status-google"
                      class="text-sm text-gray-600 flex-1"
                    ></div>
                  </div>
                </div>

                <!--
                  OpenAI GPTé…ç½®åŒºåŸŸ
                  åŠŸèƒ½ï¼š
                  - OpenAI API Keyé…ç½®ï¼ˆsk-å¼€å¤´çš„å®˜æ–¹å¯†é’¥ï¼‰
                  - GPTæ¨¡å‹é€‰æ‹©ï¼ˆgpt-4oã€gpt-4o-miniç­‰ï¼‰
                  - APIåœ°å€è‡ªå®šä¹‰æ”¯æŒ
                  - è¿æ¥æµ‹è¯•å’ŒçŠ¶æ€åé¦ˆ
                  - é»˜è®¤éšè—ï¼ŒJavaScriptæ ¹æ®ç”¨æˆ·é€‰æ‹©æ˜¾ç¤º
                -->
                <div
                  id="config-openai"
                  class="provider-config bg-slate-50 border border-slate-200 rounded-md p-6 mb-6"
                  style="display: none"
                  <!--
                  é»˜è®¤éšè—ï¼Œé€‰æ‹©OpenAIæ—¶æ˜¾ç¤º
                  --
                >
                  >
                  <div class="mb-4">
                    <label
                      for="openai-api-key"
                      class="block text-sm font-medium text-gray-700 mb-2"
                      >OpenAI API Key</label
                    >
                    <input
                      type="password"
                      id="openai-api-key"
                      placeholder="sk-..."
                      class="w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-slate-500"
                    />
                    <small class="text-xs text-gray-500 mt-1 block"
                      >è·å– API Keyï¼š<a
                        href="https://platform.openai.com/api-keys"
                        target="_blank"
                        class="text-slate-600 hover:underline"
                        >OpenAI Platform</a
                      ></small
                    >
                  </div>
                  <div class="mb-4">
                    <label
                      for="openai-model-name"
                      class="block text-sm font-medium text-gray-700 mb-2"
                      >æ¨¡å‹åç§°</label
                    >
                    <input
                      type="text"
                      id="openai-model-name"
                      placeholder="ä¾‹å¦‚ï¼šgpt-4o-mini"
                      class="w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-slate-500"
                    />
                    <small class="text-xs text-gray-500 mt-1 block"
                      >å¸¸ç”¨æ¨¡å‹ï¼šgpt-4oã€gpt-4o-miniã€gpt-4-turboã€gpt-5</small
                    >
                  </div>
                  <div class="mb-4">
                    <label
                      for="openai-api-url"
                      class="block text-sm font-medium text-gray-700 mb-2"
                      >API åœ°å€</label
                    >
                    <input
                      type="text"
                      id="openai-api-url"
                      placeholder="ä¾‹å¦‚ï¼šhttps://api.openai.com/v1"
                      class="w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-slate-500"
                    />
                    <small class="text-xs text-gray-500 mt-1 block"
                      >é»˜è®¤ï¼šhttps://api.openai.com/v1</small
                    >
                  </div>
                  <div class="flex items-center gap-4">
                    <button
                      type="button"
                      class="test-provider-btn bg-slate-600 hover:bg-slate-700 text-white font-medium py-2 px-4 rounded-md transition"
                      data-provider="openai"
                    >
                      æµ‹è¯• GPT è¿æ¥
                    </button>
                    <div
                      id="ai-status-openai"
                      class="text-sm text-gray-600 flex-1"
                    ></div>
                  </div>
                </div>

                <!--
                  Anthropic Claudeé…ç½®åŒºåŸŸ
                  åŠŸèƒ½ï¼š
                  - Anthropic API Keyé…ç½®
                  - Claudeæ¨¡å‹é€‰æ‹©ï¼ˆclaude-3-7-sonnetã€claude-sonnet-4ç­‰ï¼‰
                  - APIåœ°å€è‡ªå®šä¹‰æ”¯æŒ
                  - è¿æ¥æµ‹è¯•å’ŒçŠ¶æ€åé¦ˆ
                  - é»˜è®¤éšè—ï¼Œé€‰æ‹©Anthropicæ—¶æ˜¾ç¤º
                -->
                <div
                  id="config-anthropic"
                  class="provider-config bg-slate-50 border border-slate-200 rounded-md p-6 mb-6"
                  style="display: none"
                  <!--
                  é»˜è®¤éšè—ï¼Œé€‰æ‹©Anthropicæ—¶æ˜¾ç¤º
                  --
                >
                  >
                  <div class="mb-4">
                    <label
                      for="anthropic-api-key"
                      class="block text-sm font-medium text-gray-700 mb-2"
                      >Anthropic API Key</label
                    >
                    <input
                      type="password"
                      id="anthropic-api-key"
                      placeholder="è¾“å…¥ API Key"
                      class="w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-slate-500"
                    />
                    <small class="text-xs text-gray-500 mt-1 block"
                      >è·å– API Keyï¼š<a
                        href="https://console.anthropic.com/settings/keys"
                        target="_blank"
                        class="text-slate-600 hover:underline"
                        >Anthropic Console</a
                      ></small
                    >
                  </div>
                  <div class="mb-4">
                    <label
                      for="anthropic-model-name"
                      class="block text-sm font-medium text-gray-700 mb-2"
                      >æ¨¡å‹åç§°</label
                    >
                    <input
                      type="text"
                      id="anthropic-model-name"
                      placeholder="ä¾‹å¦‚ï¼šclaude-3-7-sonnet-all"
                      class="w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-slate-500"
                    />
                    <small class="text-xs text-gray-500 mt-1 block"
                      >å¸¸ç”¨æ¨¡å‹ï¼šclaude-3-7-sonnet-allã€claude-sonnet-4-allã€claude-opus-4-all</small
                    >
                  </div>
                  <div class="mb-4">
                    <label
                      for="anthropic-api-url"
                      class="block text-sm font-medium text-gray-700 mb-2"
                      >API åœ°å€</label
                    >
                    <input
                      type="text"
                      id="anthropic-api-url"
                      placeholder="ä¾‹å¦‚ï¼šhttps://api.anthropic.com/v1/messages"
                      class="w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-slate-500"
                    />
                    <small class="text-xs text-gray-500 mt-1 block"
                      >é»˜è®¤ï¼šhttps://api.anthropic.com/v1/messages</small
                    >
                  </div>
                  <div class="flex items-center gap-4">
                    <button
                      type="button"
                      class="test-provider-btn bg-slate-600 hover:bg-slate-700 text-white font-medium py-2 px-4 rounded-md transition"
                      data-provider="anthropic"
                    >
                      æµ‹è¯• Claude è¿æ¥
                    </button>
                    <div
                      id="ai-status-anthropic"
                      class="text-sm text-gray-600 flex-1"
                    ></div>
                  </div>
                </div>
              </div>
            </div>

            <!--
              Prompté…ç½®é¢æ¿
              åŠŸèƒ½è¯´æ˜ï¼š
              1. æŒ‰Ankiæ¨¡æ¿é…ç½®AI Prompt
              2. å­—æ®µé€‰æ‹©å’Œé…ç½®
              3. è‡ªå®šä¹‰Promptæ¨¡æ¿ç¼–è¾‘
              4. æ”¯æŒåŠ¨æ€å­—æ®µæ˜ å°„
              5. æ¨¡æ¿é‡ç½®å’Œä¿®æ”¹çŠ¶æ€è¿½è¸ª
              - é»˜è®¤éšè—ï¼Œç‚¹å‡»æ ‡ç­¾æ˜¾ç¤º
            -->
            <div
              id="prompt-config"
              class="tab-content"
              role="tabpanel"
              aria-labelledby="prompt-config-tab"
            >
              <div class="space-y-8">
                <!-- å­åŒºåŸŸé—´å‚ç›´é—´è·32px -->
                <!--
                  Prompté…ç½®ç¼–è¾‘å™¨ä¸»åŒºåŸŸ
                  æä¾›å¯è§†åŒ–çš„Promptç¼–è¾‘ç•Œé¢
                  - shadow-sm: è½»å¾®é˜´å½±æ•ˆæœ
                  - prompt-config-editor: è‡ªå®šä¹‰CSSç±»æ ‡è¯†ç¬¦
                -->
                <section
                  class="bg-slate-50 border border-slate-200 rounded-md p-5 shadow-sm prompt-config-editor"
                >
                  <!--
                    Prompté…ç½®å¤´éƒ¨ä¿¡æ¯
                    - å“åº”å¼å¸ƒå±€ï¼šæ¡Œé¢ç«¯æ°´å¹³æ’åˆ—ï¼Œç§»åŠ¨ç«¯å‚ç›´æ’åˆ—
                    - æ˜¾ç¤ºå½“å‰é€‰ä¸­çš„Ankiæ¨¡æ¿åç§°
                    - æä¾›æ“ä½œæŒ‡å¯¼ä¿¡æ¯
                  -->
                  <div
                    class="flex flex-col md:flex-row md:items-center md:justify-between gap-3 mb-4"
                  >
                    <div>
                      <h3 class="text-lg font-semibold text-gray-800">
                        æŒ‰æ¨¡æ¿é…ç½® Prompt
                      </h3>
                      <!-- æ“ä½œæç¤ºä¿¡æ¯ -->
                      <p id="prompt-model-hint" class="text-sm text-gray-600">
                        è¯·åœ¨ã€ŒAnki è¿æ¥ã€é¢æ¿é€‰æ‹©è¦ç¼–è¾‘çš„æ¨¡å‹ï¼Œéšååœ¨è¿™é‡Œè‡ªå®šä¹‰
                        Promptã€‚
                      </p>
                    </div>
                    <!-- å½“å‰æ¨¡æ¿çŠ¶æ€æ˜¾ç¤º -->
                    <span
                      id="prompt-current-model"
                      class="text-sm text-slate-600 bg-white border border-slate-200 rounded-md px-3 py-1"
                      >å½“å‰æ¨¡æ¿ï¼šæœªé€‰æ‹©</span
                    >
                  </div>

                  <!--
                    å­—æ®µé…ç½®ç¼–è¾‘åŒºåŸŸ
                    åŠŸèƒ½ï¼š
                    1. å­—æ®µé€‰æ‹©ï¼šæ˜¾ç¤ºå½“å‰æ¨¡æ¿çš„æ‰€æœ‰å­—æ®µï¼Œæ”¯æŒå¤šé€‰
                    2. å­—æ®µé…ç½®ï¼šä¸ºæ¯ä¸ªå­—æ®µé…ç½®Promptæè¿°
                    3. çŠ¶æ€æ˜¾ç¤ºï¼šå®æ—¶æ˜¾ç¤ºé…ç½®çŠ¶æ€å’ŒéªŒè¯ç»“æœ
                    - é»˜è®¤éšè—ï¼Œé€‰æ‹©æ¨¡æ¿åæ˜¾ç¤º
                  -->
                  <div
                    id="prompt-field-editor"
                    class="bg-white border border-slate-200 rounded-md p-4 space-y-4"
                    style="display: none"
                    <!--
                    åˆå§‹çŠ¶æ€éšè—
                    --
                  >
                    >
                    <!--
                      å­—æ®µé€‰æ‹©åŒºåŸŸ
                      ç”¨æˆ·å¯ä»¥é€‰æ‹©å“ªäº›å­—æ®µéœ€è¦AIç”Ÿæˆå†…å®¹
                    -->
                    <div>
                      <div class="flex items-center justify-between">
                        <h4 class="text-sm font-medium text-gray-700">
                          å­—æ®µé€‰æ‹©
                        </h4>
                        <!-- æ“ä½œæç¤º -->
                        <span class="text-xs text-gray-500"
                          >ç‚¹å‡»å­—æ®µåˆ‡æ¢é€‰ä¸­çŠ¶æ€</span
                        >
                      </div>
                      <!-- å­—æ®µé€‰æ‹©æŒ‰é’®åˆ—è¡¨ - JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                      <div
                        id="field-selection-list"
                        class="flex flex-wrap gap-2 mt-3"
                      ></div>
                    </div>
                    <!--
                      å­—æ®µé…ç½®åŒºåŸŸ
                      ä¸ºæ¯ä¸ªé€‰ä¸­çš„å­—æ®µé…ç½®ç”Ÿæˆæè¿°
                    -->
                    <div>
                      <div class="flex items-center justify-between">
                        <h4 class="text-sm font-medium text-gray-700">
                          å­—æ®µé…ç½®
                        </h4>
                        <!-- åŠŸèƒ½è¯´æ˜ -->
                        <span class="text-xs text-gray-500"
                          >é…ç½®ç”Ÿæˆ AI è¾“å‡ºè¯¥å­—æ®µæ‰€éœ€çš„ä¿¡æ¯</span
                        >
                      </div>
                      <!-- å­—æ®µé…ç½®è¡¨å•åˆ—è¡¨ - JavaScriptåŠ¨æ€ç”Ÿæˆ -->
                      <div id="field-config-list" class="mt-3 space-y-4"></div>
                    </div>
                    <!-- é…ç½®çŠ¶æ€ä¿¡æ¯ -->
                    <p
                      id="prompt-config-status"
                      class="text-xs text-gray-500"
                    ></p>
                  </div>

                  <!--
                    è‡ªå®šä¹‰Promptæ¨¡æ¿ç¼–è¾‘åŒºåŸŸ
                    åŠŸèƒ½ï¼š
                    - å¤§å‹æ–‡æœ¬åŒºåŸŸç¼–è¾‘Promptå†…å®¹
                    - font-mono: ç­‰å®½å­—ä½“ï¼Œä¾¿äºä»£ç å’Œæ¨¡æ¿ç¼–è¾‘
                    - æ”¯æŒå ä½ç¬¦è¯­æ³•ï¼ˆ{{INPUT_TEXT}}ã€{{FIELD_SCHEMA}}ï¼‰
                    - åˆå§‹çŠ¶æ€ç¦ç”¨ï¼Œé€‰æ‹©æ¨¡æ¿åå¯ç”¨
                  -->
                  <div class="form-group mt-4">
                    <label
                      for="custom-prompt-textarea"
                      class="block text-sm font-medium text-gray-700 mb-2"
                      >è‡ªå®šä¹‰ Prompt æ¨¡æ¿</label
                    >
                    <!-- Promptæ¨¡æ¿ç¼–è¾‘æ–‡æœ¬åŒºåŸŸ -->
                    <textarea
                      id="custom-prompt-textarea"
                      rows="12"
                      <!--
                      12è¡Œé«˜åº¦ï¼Œæä¾›è¶³å¤Ÿçš„ç¼–è¾‘ç©ºé—´
                      --
                    >
                      class="w-full p-3 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-slate-500 focus:border-slate-500 font-mono text-sm"
                      placeholder="è¯·é€‰æ‹©æ¨¡å‹åç¼–å†™å¯¹åº”çš„ Promptã€‚
å»ºè®®åŒ…å«ä»¥ä¸‹å ä½ç¬¦ï¼š
- {{INPUT_TEXT}} è¡¨ç¤ºç”¨æˆ·è¾“å…¥
- {{FIELD_SCHEMA}} è¡¨ç¤ºå­—æ®µç»“æ„"
                      disabled <!-- åˆå§‹ç¦ç”¨çŠ¶æ€ -->
                    ></textarea
                    >
                  </div>

                  <!--
                    Promptæ¨¡æ¿æ“ä½œæŒ‰é’®åŒºåŸŸ
                    - reset-prompt-btn: é‡ç½®æŒ‰é’®ï¼Œæ¢å¤åˆ°é»˜è®¤æ¨¡æ¿
                    - prompt-dirty-flag: ä¿®æ”¹çŠ¶æ€æ ‡è¯†ï¼Œæé†’ç”¨æˆ·ä¿å­˜
                  -->
                  <div class="flex items-center gap-3 mt-3">
                    <!-- é‡ç½®æ¨¡æ¿æŒ‰é’® -->
                    <button
                      type="button"
                      id="reset-prompt-btn"
                      class="bg-slate-500 hover:bg-slate-600 text-white font-medium py-2 px-4 rounded-md transition disabled:opacity-50"
                      disabled
                      <!--
                      åˆå§‹ç¦ç”¨çŠ¶æ€
                      --
                    >
                      > é‡ç½®ä¸ºé»˜è®¤æ¨¡æ¿
                    </button>
                    <!-- ä¿®æ”¹çŠ¶æ€æç¤º - é»˜è®¤éšè— -->
                    <span
                      id="prompt-dirty-flag"
                      class="text-xs text-slate-500"
                      style="display: none"
                      >å·²ä¿®æ”¹ï¼Œä¿å­˜åç”Ÿæ•ˆ</span
                    >
                  </div>
                </section>
              </div>
            </div>
            <!--
              Ankiè¿æ¥é…ç½®é¢æ¿
              åŠŸèƒ½è¯´æ˜ï¼š
              1. AnkiConnectè¿æ¥æµ‹è¯•å’ŒçŠ¶æ€æ£€æŸ¥
              2. ç‰Œç»„é€‰æ‹©å’Œç®¡ç†
              3. Ankiæ¨¡æ¿é€‰æ‹©å’Œé…ç½®
              4. å­—æ®µä¿¡æ¯æ˜¾ç¤ºå’Œæ˜ å°„
              5. å®æ—¶åŒæ­¥Ankiæ•°æ®
              - é»˜è®¤éšè—ï¼Œç‚¹å‡»æ ‡ç­¾æ˜¾ç¤º
            -->
            <div
              id="anki-config"
              class="tab-content"
              role="tabpanel"
              aria-labelledby="anki-config-tab"
            >
              <div class="space-y-6">
                <!-- åŒºåŸŸé—´å‚ç›´é—´è·24px -->
                <!--
                  Ankiè¿æ¥æµ‹è¯•åŒºåŸŸ
                  - æ£€æµ‹AnkiConnectæ˜¯å¦æ­£å¸¸è¿è¡Œ
                  - è‡ªåŠ¨è·å–å¯ç”¨çš„ç‰Œç»„å’Œæ¨¡æ¿åˆ—è¡¨
                  - å®æ—¶æ˜¾ç¤ºè¿æ¥çŠ¶æ€å’Œé”™è¯¯ä¿¡æ¯
                -->
                <div class="mb-4">
                  <div class="flex items-center gap-4">
                    <!-- AnkiConnectè¿æ¥æµ‹è¯•æŒ‰é’® -->
                    <button
                      id="test-anki-btn"
                      class="bg-slate-600 hover:bg-slate-700 text-white font-medium py-2 px-4 rounded-md transition"
                    >
                      æµ‹è¯•è¿æ¥å¹¶åˆ·æ–°æ¨¡å‹
                    </button>
                    <!-- Ankiè¿æ¥çŠ¶æ€æ˜¾ç¤ºåŒºåŸŸ -->
                    <p
                      id="anki-status"
                      class="text-sm text-gray-600 flex-1"
                    ></p>
                  </div>
                </div>

                <!--
                  ç‰Œç»„å’Œæ¨¡æ¿é€‰æ‹©åŒºåŸŸ
                  - å“åº”å¼ç½‘æ ¼å¸ƒå±€ï¼šæ¡Œé¢ç«¯2åˆ—ï¼Œç§»åŠ¨ç«¯1åˆ—
                  - ç‰Œç»„ï¼šAnkiä¸­çš„å­¦ä¹ å¡ç‰‡é›†åˆ
                  - æ¨¡æ¿ï¼šå®šä¹‰å¡ç‰‡çš„å­—æ®µç»“æ„å’Œæ ·å¼
                -->
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
                  <!-- é»˜è®¤ç‰Œç»„é€‰æ‹© -->
                  <div>
                    <label
                      for="default-deck"
                      class="block text-sm font-medium text-gray-700 mb-2"
                      >ç‰Œç»„</label
                    >
                    <!-- ç‰Œç»„ä¸‹æ‹‰é€‰æ‹©æ¡† - JavaScriptåŠ¨æ€å¡«å…… -->
                    <select
                      id="default-deck"
                      class="w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-slate-500 focus:border-slate-500"
                    >
                      <option value="">è¯·å…ˆæµ‹è¯• Anki è¿æ¥</option>
                    </select>
                  </div>

                  <!-- Ankiæ¨¡æ¿é€‰æ‹© -->
                  <div>
                    <label
                      for="default-model"
                      class="block text-sm font-medium text-gray-700 mb-2"
                      >æ¨¡å‹</label
                    >
                    <!-- æ¨¡æ¿ä¸‹æ‹‰é€‰æ‹©æ¡† - JavaScriptåŠ¨æ€å¡«å…… -->
                    <select
                      id="default-model"
                      class="w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-slate-500 focus:border-slate-500"
                    >
                      <option value="">è¯·å…ˆæµ‹è¯• Anki è¿æ¥</option>
                    </select>
                  </div>
                </div>

                <!--
                  å­—æ®µæ˜ å°„ä¿¡æ¯æ˜¾ç¤ºåŒºåŸŸ
                  åŠŸèƒ½ï¼š
                  - æ˜¾ç¤ºå½“å‰é€‰ä¸­æ¨¡æ¿çš„æ‰€æœ‰å­—æ®µ
                  - å­—æ®µç±»å‹å’Œå±æ€§ä¿¡æ¯æ˜¾ç¤º
                  - ä¸ºPrompté…ç½®æä¾›å‚è€ƒä¿¡æ¯
                  - é»˜è®¤éšè—ï¼Œé€‰æ‹©æ¨¡æ¿åæ˜¾ç¤º
                -->
                <div id="field-mapping" class="mb-4" style="display: none">
                  <h3 class="text-lg font-semibold text-gray-700 mb-3">
                    å­—æ®µä¿¡æ¯
                  </h3>
                  <!--
                    å­—æ®µåˆ—è¡¨å®¹å™¨
                    - JavaScriptåŠ¨æ€ç”Ÿæˆå­—æ®µä¿¡æ¯å¡ç‰‡
                    - æ˜¾ç¤ºå­—æ®µåç§°ã€ç±»å‹ã€æ˜¯å¦å¿…å¡«ç­‰ä¿¡æ¯
                  -->
                  <div
                    class="field-mapping-container bg-gray-50 border border-gray-200 rounded-md p-4"
                  >
                    <!-- è¿è¡Œæ—¶ç”±JavaScriptåŠ¨æ€å¡«å…¥å­—æ®µåˆ—è¡¨ -->
                  </div>
                </div>
              </div>
            </div>

            <!--
              ç³»ç»Ÿé…ç½®é¢æ¿
              åŠŸèƒ½è¯´æ˜ï¼š
              1. å¤šè¯­è¨€è®¾ç½®ï¼ˆç›®å‰ä»…æ”¯æŒä¸­æ–‡ï¼‰
              2. é…ç½®æ•°æ®å¯¼å…¥/å¯¼å‡ºåŠŸèƒ½
              3. ç³»ç»Ÿè®¾ç½®é‡ç½®åŠŸèƒ½
              4. æ•°æ®å¤‡ä»½å’Œæ¢å¤
              - é»˜è®¤éšè—ï¼Œç‚¹å‡»æ ‡ç­¾æ˜¾ç¤º
            -->
            <div
              id="system-config"
              class="tab-content"
              role="tabpanel"
              aria-labelledby="system-config-tab"
            >
              <div class="space-y-6">
                <!-- åŒºåŸŸé—´å‚ç›´é—´è·24px -->
                <!--
                  è¯­è¨€è®¾ç½®åŒºåŸŸ
                  - ç›®å‰ä»…æ”¯æŒç®€ä½“ä¸­æ–‡
                  - é¢„ç•™å¤šè¯­è¨€åŠŸèƒ½æ‰©å±•æ¥å£
                  - æœªæ¥å¯èƒ½æ”¯æŒè‹±æ–‡ã€æ—¥è¯­ç­‰
                -->
                <div class="mb-4">
                  <label
                    for="language-select"
                    class="block text-sm font-medium text-gray-700 mb-2"
                    >è¯­è¨€</label
                  >
                  <!-- è¯­è¨€é€‰æ‹©ä¸‹æ‹‰æ¡† -->
                  <select
                    id="language-select"
                    class="w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-slate-500 focus:border-slate-500"
                  >
                    <option value="zh-CN">ç®€ä½“ä¸­æ–‡</option>
                  </select>
                </div>

                <!--
                  é…ç½®ç®¡ç†åŒºåŸŸ
                  åŠŸèƒ½è¯´æ˜ï¼š
                  1. å¯¼å‡ºé…ç½®ï¼šå°†å½“å‰è®¾ç½®ä¿å­˜ä¸ºJSONæ–‡ä»¶
                  2. å¯¼å…¥é…ç½®ï¼šä»æ–‡ä»¶æ¢å¤ä¹‹å‰çš„è®¾ç½®
                  3. é‡ç½®é…ç½®ï¼šæ¸…é™¤æ‰€æœ‰è®¾ç½®ï¼Œæ¢å¤åˆ°é»˜è®¤çŠ¶æ€
                  å®‰å…¨ç‰¹æ€§ï¼šå¯¼å‡ºæ—¶è‡ªåŠ¨è¿‡æ»¤APIå¯†é’¥ç­‰æ•æ„Ÿä¿¡æ¯
                -->
                <section
                  class="p-6 bg-gray-50 border border-gray-200 rounded-md"
                >
                  <h3 class="text-lg font-semibold text-gray-800 mb-4">
                    é…ç½®ç®¡ç†
                  </h3>
                  <!-- åŠŸèƒ½è¯´æ˜å’Œå®‰å…¨æç¤º -->
                  <p class="text-sm text-gray-600 mb-4">
                    å¯¼å‡ºã€å¯¼å…¥æˆ–é‡ç½®æ‚¨çš„é…ç½®è®¾ç½®ã€‚æ³¨æ„ï¼šå¯¼å‡ºçš„é…ç½®æ–‡ä»¶ä¸åŒ…å«APIå¯†é’¥ä»¥ç¡®ä¿å®‰å…¨ã€‚
                  </p>

                  <!--
                    é…ç½®ç®¡ç†æ“ä½œæŒ‰é’®ç»„
                    - å“åº”å¼å¸ƒå±€ï¼šå°å±å¹•å‚ç›´æ’åˆ—ï¼Œå¤§å±å¹•æ°´å¹³æ’åˆ—
                    - æŒ‰é’®é¢œè‰²åŒºåˆ†ï¼šè“è‰²å¯¼å‡ºã€ç»¿è‰²å¯¼å…¥ã€çº¢è‰²é‡ç½®
                  -->
                  <div class="flex flex-col sm:flex-row gap-3">
                    <!-- é…ç½®å¯¼å‡ºæŒ‰é’® -->
                    <button
                      type="button"
                      id="export-config-btn"
                      class="bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-md transition duration-200"
                    >
                      ğŸ“¤ å¯¼å‡ºé…ç½®
                    </button>

                    <!-- é…ç½®å¯¼å…¥åŒºåŸŸ -->
                    <div class="flex items-center">
                      <!-- éšè—çš„æ–‡ä»¶é€‰æ‹©è¾“å…¥æ¡† -->
                      <input
                        type="file"
                        id="import-config-input"
                        accept=".json"
                        <!--
                        ä»…æ¥å—JSONæ ¼å¼æ–‡ä»¶
                        --
                      />
                      class="hidden"
                      <!-- éšè—åŸç”Ÿæ–‡ä»¶è¾“å…¥æ¡† -->
                      />
                      <!-- é…ç½®å¯¼å…¥è§¦å‘æŒ‰é’® -->
                      <button
                        type="button"
                        id="import-config-btn"
                        class="bg-green-600 hover:bg-green-700 text-white font-medium py-2 px-4 rounded-md transition duration-200"
                      >
                        ğŸ“¥ å¯¼å…¥é…ç½®
                      </button>
                    </div>

                    <!-- é…ç½®é‡ç½®æŒ‰é’® - éœ€è¦äºŒæ¬¡ç¡®è®¤ -->
                    <button
                      type="button"
                      id="reset-config-btn"
                      class="bg-red-600 hover:bg-red-700 text-white font-medium py-2 px-4 rounded-md transition duration-200"
                    >
                      ğŸ”„ é‡ç½®é…ç½®
                    </button>
                  </div>

                  <!-- é…ç½®ç®¡ç†æ“ä½œçŠ¶æ€æ˜¾ç¤º -->
                  <div class="mt-3">
                    <p
                      id="config-management-status"
                      class="text-sm text-gray-600"
                    ></p>
                  </div>
                </section>
              </div>
            </div>

            <!--
              æ ·å¼é…ç½®é¢æ¿
              åŠŸèƒ½è¯´æ˜ï¼š
              1. å­—ä½“å¤§å°è°ƒæ•´ï¼ˆ12px-18pxé€‰é¡¹ï¼‰
              2. æ–‡æœ¬å¯¹é½æ–¹å¼ï¼ˆå·¦å¯¹é½/å±…ä¸­/å³å¯¹é½ï¼‰
              3. è¡Œé«˜è®¾ç½®ï¼ˆ1.2-1.6èŒƒå›´ï¼‰
              4. å®æ—¶é¢„è§ˆæ•ˆæœ
              5. åº”ç”¨åˆ°å¼¹çª—ç•Œé¢çš„æ ·å¼è®¾ç½®
              - é»˜è®¤éšè—ï¼Œç‚¹å‡»æ ‡ç­¾æ˜¾ç¤º
            -->
            <div
              id="style-config"
              class="tab-content"
              role="tabpanel"
              aria-labelledby="style-config-tab"
            >
              <div class="space-y-6">
                <!-- åŒºåŸŸé—´å‚ç›´é—´è·24px -->
                <!--
                  æ ·å¼è®¾ç½®æ§åˆ¶é¢æ¿
                  - 3åˆ—å“åº”å¼ç½‘æ ¼å¸ƒå±€ï¼šæ¡Œé¢ç«¯3åˆ—ï¼Œå¹³æ¿å’Œæ‰‹æœº1åˆ—
                  - æ¯ä¸ªè®¾ç½®é¡¹éƒ½æä¾›ç›´è§‚çš„é€‰é¡¹å’Œè¯´æ˜
                -->
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
                  <!-- å­—ä½“å¤§å°è®¾ç½® -->
                  <div>
                    <label
                      for="font-size-select"
                      class="block text-sm font-medium text-gray-700 mb-2"
                      >å­—ä½“å¤§å°</label
                    >
                    <select
                      id="font-size-select"
                      class="w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-slate-500 focus:border-slate-500"
                    >
                      <option value="12px">å° (12px)</option>
                      <option value="14px">ä¸­ (14px)</option>
                      <option value="16px">å¤§ (16px)</option>
                      <option value="18px">æ›´å¤§ (18px)</option>
                    </select>
                  </div>
                  <!-- æ–‡æœ¬å¯¹é½è®¾ç½® -->
                  <div>
                    <label
                      for="text-align-select"
                      class="block text-sm font-medium text-gray-700 mb-2"
                      >æ–‡æœ¬å¯¹é½</label
                    >
                    <select
                      id="text-align-select"
                      class="w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-slate-500 focus:border-slate-500"
                    >
                      <option value="left">å·¦å¯¹é½</option>
                      <option value="center">å±…ä¸­</option>
                      <option value="right">å³å¯¹é½</option>
                    </select>
                  </div>
                  <!-- è¡Œé«˜è®¾ç½® -->
                  <div>
                    <label
                      for="line-height-select"
                      class="block text-sm font-medium text-gray-700 mb-2"
                      >è¡Œé«˜</label
                    >
                    <select
                      id="line-height-select"
                      class="w-full p-3 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-slate-500 focus:border-slate-500"
                    >
                      <option value="1.2">ç´§å‡‘ (1.2)</option>
                      <option value="1.4">é€‚ä¸­ (1.4)</option>
                      <option value="1.6">å®½æ¾ (1.6)</option>
                    </select>
                  </div>
                </div>
                <!--
                  æ ·å¼é¢„è§ˆåŒºåŸŸ
                  åŠŸèƒ½ï¼š
                  - å®æ—¶æ˜¾ç¤ºå­—ä½“å¤§å°ã€å¯¹é½ã€è¡Œé«˜çš„æ•ˆæœ
                  - ç”¨æˆ·å¯ä»¥ç›´è§‚çœ‹åˆ°è®¾ç½®å˜åŒ–å¯¹æ–‡æœ¬çš„å½±å“
                  - JavaScriptå®æ—¶æ›´æ–°é¢„è§ˆæ•ˆæœ
                -->
                <div class="mb-4">
                  <label class="block text-sm font-medium text-gray-700 mb-2"
                    >æ ·å¼é¢„è§ˆ</label
                  >
                  <!-- é¢„è§ˆæ•ˆæœæ˜¾ç¤ºåŒºåŸŸ -->
                  <div
                    id="style-preview"
                    class="border border-gray-300 rounded-md p-4 bg-gray-50"
                  >
                    <!-- ç¤ºä¾‹æ–‡æœ¬å†…å®¹ - JavaScriptå®æ—¶åº”ç”¨æ ·å¼ -->
                    <div id="preview-content">
                      è¿™æ˜¯ä¸€ä¸ªç¤ºä¾‹æ–‡æœ¬ã€‚<br />ç”¨äºé¢„è§ˆå­—ä½“ã€å¯¹é½ä¸è¡Œé«˜æ•ˆæœã€‚
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!--
            é¡µé¢åº•éƒ¨åŒºåŸŸ
            - å…¨å±€ä¿å­˜æŒ‰é’®å’ŒçŠ¶æ€æ˜¾ç¤º
            - border-t: é¡¶éƒ¨è¾¹æ¡†åˆ†éš”çº¿
            - mt-8 pt-6: é¡¶éƒ¨å¤–è¾¹è·å’Œå†…è¾¹è·
            - å“åº”å¼å¸ƒå±€ï¼šæ‰‹æœºç«¯å…¨å®½ï¼Œæ¡Œé¢ç«¯è‡ªé€‚åº”å®½åº¦
          -->
          <footer class="mt-8 pt-6 border-t border-gray-200">
            <div class="flex flex-col items-center space-y-3">
              <!--
                å…¨å±€ä¿å­˜è®¾ç½®æŒ‰é’®
                - ä¿å­˜æ‰€æœ‰æ ‡ç­¾é¡µçš„é…ç½®ä¿®æ”¹
                - JavaScriptç›‘å¬ç‚¹å‡»äº‹ä»¶ï¼Œæ‰¹é‡ä¿å­˜æ•°æ®
                - ä¿å­˜æˆåŠŸåæ›´æ–°çŠ¶æ€æ˜¾ç¤º
              -->
              <button
                id="save-btn"
                class="bg-slate-700 hover:bg-slate-800 text-white font-semibold py-3 px-8 rounded-md transition duration-200 w-full md:w-auto"
              >
                ä¿å­˜è®¾ç½®
              </button>
              <!-- ä¿å­˜çŠ¶æ€ä¿¡æ¯æ˜¾ç¤º - JavaScriptåŠ¨æ€æ›´æ–° -->
              <p id="save-status" class="text-sm text-gray-600"></p>
            </div>
          </footer>
        </div>
      </div>
    </div>

    <!--
      JavaScriptæ¨¡å—åŠ è½½
      - type="module": ES6æ¨¡å—æ”¯æŒï¼Œå¯ç”¨import/exportè¯­æ³•
      - src="options.js": è®¾ç½®é¡µé¢çš„ä¸»è¦ä¸šåŠ¡é€»è¾‘æ–‡ä»¶

      options.jsæ–‡ä»¶åŒ…å«çš„ä¸»è¦åŠŸèƒ½ï¼š
      1. æ ‡ç­¾é¡µåˆ‡æ¢é€»è¾‘å’ŒåŠ¨ç”»æ•ˆæœ
      2. AIæä¾›å•†é…ç½®å’Œæµ‹è¯•è¿æ¥
      3. Promptæ¨¡æ¿ç¼–è¾‘å’Œå­—æ®µé…ç½®
      4. AnkiConnecté›†æˆå’Œæ•°æ®åŒæ­¥
      5. é…ç½®æ•°æ®çš„å­˜å‚¨ã€åŠ è½½ã€å¯¼å…¥å¯¼å‡º
      6. æ ·å¼è®¾ç½®çš„å®æ—¶é¢„è§ˆå’Œåº”ç”¨
      7. è¡¨å•éªŒè¯å’Œç”¨æˆ·åé¦ˆ
      8. APIå¯†é’¥çš„å®‰å…¨å¤„ç†å’Œæ˜¾ç¤ºæ§åˆ¶
    -->
    <script type="module" src="options.js"></script>
  </body>
</html>
